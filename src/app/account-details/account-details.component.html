<div class="main">
    <mat-tab-group mat-align-tabs="center">
        <mat-tab [label]="'Account details' | translate">
            <mat-card class="example-card">
                <h1 class="title">{{'Account details'  | translate | uppercase}}</h1>
                <mat-card-content>
                    <div class="row">
                        <div class="col">
                            <mat-form-field class="full-width">
                                <mat-label>{{ 'Username' | translate}}</mat-label>
                                <input type="text" matInput [(ngModel)]="account.username"
                                       readonly required #name="ngModel">
                            </mat-form-field>

                            <div *ngIf="name.invalid && (name.dirty || name.touched)"
                                 class="alert alert-danger custom-error">
                                <div *ngIf="name.errors.required">
                                    Name is required.
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <!--                        <mat-list-item style="padding-top: 3%">-->
                            <mat-form-field class="full-width">
                                <mat-label>{{ 'Email' | translate}}</mat-label>
                                <input name="email" type="text" matInput [(ngModel)]="account.email" #email="ngModel"
                                       required email>
                            </mat-form-field>
                            <!--                        </mat-list-item>-->
                            <div *ngIf="email.invalid && (email.dirty || email.touched)"
                                 class="alert alert-danger custom-error">
                                <div *ngIf="email.errors.required">
                                    {{'This field is required' | translate}}
                                </div>
                                <div *ngIf="email.errors.email">
                                    {{'This field contains characters that are not allowed' | translate}}
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--                    </mat-list>-->
                    <div class="row">
                        <div class="col">
                            <button [disabled]="email.invalid || name.invalid" mat-flat-button color="primary"
                                    (click)="modifyMyAccount()">{{'Modify' | translate}}
                            </button>
                        </div>
                    </div>
                </mat-card-content>
            </mat-card>
        </mat-tab>

        <mat-tab [label]="'Change Password' | translate">
            <mat-card class="example-card">
                <h1 class="title">{{'Change password' | translate | uppercase}}</h1>
                <mat-card-content>
                    <div class="row">
                        <div class="col">
                            <mat-form-field class="full-width">
                                <mat-label>{{'Old Password' | translate}}</mat-label>
                                <input type="password" matInput [(ngModel)]="password.oldPassword"
                                       required  minlength="8" #oldPassword="ngModel">
                            </mat-form-field>
                            <div *ngIf="oldPassword.invalid && oldPassword.touched"
                                 class="alert alert-danger custom-error">
                                <div *ngIf="oldPassword.errors.required">
                                    {{'This field is required' | translate}}
                                </div>
                                <div *ngIf="oldPassword.errors.minlength && oldPassword.dirty">
                                    {{'This field must have min. 8 characters' | translate}}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <mat-form-field class="full-width">
                                <mat-label>{{'New Password' | translate}}</mat-label>
                                <input type="password" matInput [(ngModel)]="password.newPassword"
                                       required minlength="8" #newPassword="ngModel">
                            </mat-form-field>
                            <div *ngIf="newPassword.invalid && newPassword.touched"
                                 class="alert alert-danger custom-error">
                                <div *ngIf="newPassword.errors.required">
                                    {{'This field is required' | translate}}
                                </div>
                                <div *ngIf="newPassword.errors.minlength && newPassword.dirty">
                                    {{'This field must have min. 8 characters' | translate}}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <mat-form-field class="full-width">
                                <mat-label>{{'Confirm Password' | translate}}</mat-label>
                                <input type="password" matInput [(ngModel)]="password.confirmedPassword"
                                       required minlength="8" #confirmedPassword="ngModel">
                            </mat-form-field>
                            <div *ngIf="confirmedPassword.invalid && confirmedPassword.touched"
                                 class="alert alert-danger custom-error">
                                <div *ngIf="confirmedPassword.errors.required">
                                    {{'This field is required' | translate}}
                                </div>
                                <div *ngIf="confirmedPassword.errors.minlength && confirmedPassword.dirty">
                                    {{'This field must have min. 8 characters' | translate}}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <button [disabled]="confirmedPassword.invalid || oldPassword.invalid || newPassword.invalid"
                                    mat-flat-button color="primary" (click)="changePassword()">{{'Change Password' | translate}}</button>
                        </div>
                    </div>
                </mat-card-content>
            </mat-card>
        </mat-tab>
    </mat-tab-group>
</div>

